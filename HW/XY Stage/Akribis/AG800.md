# AG800

## InTargetStat

Akribis의 AG300 서보 컨트롤러에서 axis의 InTargetStat은 모션 진행 상태를 나타내는 읽기 전용 파라미터입니다. 목표 위치에 도달할 때까지의 진행 상황을 모니터링하며, 위치 오차(PosErr)가 InTargetTol(허용 오차)보다 작고 이 상태가 InTargetTime(지속 시간, 밀리초 단위) 이상 유지되면 목표 도달을 나타내는 값으로 업데이트됩니다.

### 상태 값

| 값 | 상태 | 설명 |
|---|---|---|
| 0 | Motor off | 모터가 꺼진 상태 |
| 1 | Motor on | 모터가 켜진 상태 |
| 2 | In motion | 축이 움직이고 있는 상태 |
| 3 | Waiting for InTargetTime to elapse | 위치 오차가 허용 범위 내에 있지만, InTargetTime이 경과하기를 기다리는 상태 |
| 4 | Target reached | 목표 위치에 도달한 상태 (위치 오차가 InTargetTol 이내로 InTargetTime 이상 유지됨) |

## HomingStat

Akribis의 AG300 서보 컨트롤러에서 axis의 HomingStat은 homing(홈 위치 설정) 프로세스의 상태를 나타내는 읽기 전용 파라미터입니다. homing 과정의 진행 상황, 성공 여부, 또는 실패 원인을 모니터링합니다.

### 프로세스 개요

homing 프로세스는 축의 기준 위치를 설정하기 위한 일련의 단계로 구성되며, HomingOn 파라미터를 1로 설정하여 시작합니다. HomingStat은 전원 온 또는 리셋 후 0으로 초기화되며, 프로세스 중 또는 종료 후 상태를 업데이트합니다.

### 상태 값

| 값 | 상태 | 설명 |
|---|---|---|
| 0 | No homing was done | 전원 온 또는 리셋 후 homing이 수행되지 않은 상태 |
| 양수 (100 제외) | Homing in progress | homing이 진행 중인 상태. 값은 현재 처리 중인 homing 단계의 번호를 나타냄 |
| -1 | Failed due to wrong parameter | HomingDef[] 배열의 파라미터가 잘못되어 homing이 실패하고 중단된 상태 (각 단계 시작 시 파라미터 검사) |
| -2 | Failed due to timeout | homing 단계 중 타임아웃이 발생하여 실패하고 중단된 상태 (각 단계에 정의된 타임아웃 초과) |
| -3 | Failed due to unexpected motor off | homing 중 예상치 못한 모터 오프로 인해 실패하고 중단된 상태 (예: ConFlt에 반영된 fault 발생) |
| -4 | Failed due to wrong motion reason | 예상된 모션 종료 이유(예: 리미트 스위치 도달)와 다르게 종료되어 실패한 상태 |
| -5 | Failed due to wrong step type | HomingDef[]에 정의된 단계 타입이 인식되지 않아 실패한 상태 |
| -6 | Failed due to in-motion | 새 단계 시작 시 축이 이미 움직이고 있어 실패한 상태 |
| -7 | Failed due to too many steps | 단계가 너무 많아 (마지막 단계가 homing 종료가 아님) 실패한 상태 |
| -8 | Failed due to unexpected limit | 예상치 못한 리미트로 인해 실패한 상태 (HOMING_TYPE_CHECK_THAT_OUT_OF_LIMITS 단계에 관련) |
| 100 | Successfully completed | homing 프로세스가 성공적으로 완료된 상태 (마지막 단계 완료 후 HomingOn이 0으로 클리어) |

### 관련 파라미터

- **HomingOn**: 홈밍 활성화
- **HomingMethod**: 홈밍 방법 선택
- **HomingDef**: 홈밍 단계 정의 배열

> [!note]
> 실패 시 HomingOn이 자동으로 0으로 설정됩니다.
